<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>
            War Cards!
        </title>
    </head>
    <body>
        <div id="wrapper">
            <div id="start"></div>
            <div id="message"></div>
            <div id="board">
                <div id="player1" class="players">
                    <div class="score"></div>
                    <div class="hand"></div>
                </div>
                <div id="player2">
                    <div class="score"></div>
                    <div class="hand"></div>
                </div>
            </div>
            <div id="action">
                <button id="btnBattle" type="button" class="btn">
                    Fight!
                </button>
            </div>
        </div>
        
        <script src="js/jquery-3.3.1.min.js">
        </script>
        <script>
            $('document').ready(function() {
                let suits = ["spades", "hearts", "clubs", "diams"];
                let cardFace = ["2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"];
                let cards = [];
                let players = [[], []];
                let firstRun = true;
                let gameOver = false;
                let fightButton = document.querySelector("#btnBattle");

                fightButton.addEventListener('click', battle);

                function battle()
                {
                    if (firstRun)
                    {
                        firstRun = false;
                        buildCards();
                        shuffleArray(cards);
                        dealCards(cards);
                    }
                    attack();
                    console.log('Works');
                }

                function attack()
                {
                    if(!gameOver)
                    {
                        let card1 = players[0].shift();
                        let card2 = players[1].shift();
                        let pot = [card1, card2]
                    
                        // Check Winners
                        // Update Scores
                    }
                }

                function buildCards()
                {
                    cards = [];
                    for (s in suits)
                    {
                        let suitNew = suits[s][0].toUpperCase();
                        for(n in cardFace)
                        {
                            let card = {
                                suit:suits[s],
                                num:cardFace[n],
                                cardValue:parseInt(n) +2,
                                icon:suitNew
                            }
                            cards.push(card);
                        }
                    }
                        console.log(cards);
                }

                function dealCards(array)
                {
                    for(var i = 0; i < array.length; i++)
                    {
                        // swaps between remainder 0 and 1, which signifies player[0 OR 1], and then pushes that onto parameter,(array), which
                        // is cards which is an array, at the index of for loop [i]
                        var m = i % 2;
                        players[m].push(array[i])
                        }
                    console.log(players)
                    }
                
                
                //
                // function dealCards(array)
                // {
                //     for(var i = 0; i < array.length; i++)
                //     {
                //         if(i % 2 === 0 )
                //         {
                //             players[0].push(array[i]);
                //         }
                //         else
                //         {
                //             players[1].push(array[i]);
                //         }
                //
                //     }
                //     console.log(players);
                // }
                //
                
                function shuffleArray(array)
                {
                    for(let x = array.length -1; x > 0; x--)
                    {

                        let ii = Math.floor(Math.random() * (x + 1))
                        let temp = array[x];
                        array[x] = array[ii];
                        array[ii] = temp;

                    }
                    console.log(cards);
                    return array;
                }
            });
        </script>
        
    </body>
</html>
